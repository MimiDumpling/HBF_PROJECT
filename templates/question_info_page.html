{% extends 'base.html' %}
{% block body %}

<div>
<h1>{{ question.title }}</h1>

<div>

    <div>
        <p>Description: {{ question.description }}</p>
        <p>Submitted by: {{ question.user.user_name }}</p>
        <p>Date/Time Submitted: {{ question.created_at }}</p>

    {% if question.answers %}
      <ul>
        {% for answer in question.answers %}
          <li>
            <p>Answered By: {{answer.user.user_name}}</p>
            <p>Answered Date/Time: {{ answer.created_at }}</p>

            {% if answer.edited_at %}
              <p>Edited Date/Time: {{ answer.edited_at }}</p>
            {% else %}
              <p>Edited Date/Time: This answer has not been edited.</p>
            {% endif %}

            <p>Answer: {{ answer.body }}</p>
          </li>
        {% endfor %}
    {% else %}
      <p>There are no answers for this question.</p>
    {% endif %}        
      </ul> 


    {% if answer %}
      <p>Do you want to edit your answer?</p>
    {% else %}
      <p>You haven't answered this question.</p>
    {% endif %}        
      </ul>

      <form action="/questions/{{ question.question_id }}" method="POST">
        Submit An Answer:<br>
        <textarea rows="8" cols="100" name="user_answer"></textarea><br>
        <input type="submit" value="Submit">
      </form>

    </div>
</div>
</div>
{% endblock %}

